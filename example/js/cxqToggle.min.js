/**
 * User: Xiu Qiang Chu
 * Date: 20/06/12
 * Time: 23:11
 */

(function(a){a.fn.cxqToggle=function(b){function f(){d.find("."+b.clickElm).on("click",function(){var c=a(this).closest("."+b.headClass);if(c.hasClass(b.activeClass))h(c);else g(c)})}function g(a){if(b.oneToggle){h(d.find("."+b.headClass))}a.addClass("active");i(a,false)}function h(a){a.removeClass("active");i(a,true)}function i(a,c){if(c===false){switch(b.effect){case"show":a.next("."+b.bodyClass).show();case"fade":a.next("."+b.bodyClass).fadeIn(b.duration);case"slide":a.next("."+b.bodyClass).slideDown(b.duration)}}else{switch(b.effect){case"show":a.next("."+b.bodyClass).hide();case"fade":a.next("."+b.bodyClass).fadeOut(b.duration);case"slide":a.next("."+b.bodyClass).slideUp(b.duration)}}}var b=a.extend({defaultOpen:"",oneToggle:true,duration:700,effect:"show",activeClass:"active",clickElm:"toggleHead",headClass:"toggleHead",bodyClass:"toggleBody"},b);var c=this;var d=a(this);if(b.defaultOpen!=""){var e=a(d.get(b.defaultOpen));g(e.find("."+b.headClass))}f();return this}})(jQuery)
